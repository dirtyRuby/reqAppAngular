# Routes configuration
# Nested routes are used
angular.module('reqApp').config [
  '$stateProvider'
  '$urlRouterProvider'
  '$locationProvider'
  ($stateProvider, $urlRouterProvider, $locationProvider) ->
    $urlRouterProvider.otherwise('/')
    $stateProvider
      # /
      .state 'home',
        url: '/',
        templateUrl: "<%= asset_path('home.html') %>",
        controller: 'HomeController',
        controllerAs: 'homeCtrl'
      # /traps
      # /traps.jso
      .state 'traps',
        url: '/traps',
        templateUrl: "<%= asset_path('index.html') %>",
        controller: 'TrapsController',
        controllerAs: 'trapsCtrl'
      # /traps/:trap_id/requests
      # /traps/:trap_id/requests.json
      .state 'trap',
        url: 'traps/:trap_id/requests',
        templateUrl: "<%= asset_path('show.html') %>",
        controller: 'TrapController',
        controllerAs: 'trapCtrl'
      # /traps/:trap_id/requests/:id
      # /traps/:trap_id/requests/:id.json
      .state 'request',
        url: 'traps/:trap_id/requests/:id',
        templateUrl: "<%= asset_path('request-show.html') %>",
        controller: 'RequestController',
        controllerAs: 'requestCtrl'
    # enabling html5Mode
    $locationProvider.html5Mode(true)
]